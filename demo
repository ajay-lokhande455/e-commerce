const product = document.getElementById('product');

// Fetch data from API
window.addEventListener('load', async () => {
    try {
        const request = await fetch('https://dummyjson.com/products?limit=4');
        const response = await request.json();
        const productArray = response.products;

        // Loop through each product and create the card
        for (let i = 0; i < productArray.length; i++) {
            const card = document.createElement('div');
            card.classList.add('card');
            card.id = `product-${i + 1}`;

            // Create image container
            const img = document.createElement('div');
            img.classList.add('item-img');
            const imgImg = document.createElement('img');
            imgImg.src = productArray[i].thumbnail; // Correct property for the image
            imgImg.alt = productArray[i].title; // Add alt for better accessibility
            img.appendChild(imgImg);

            // Create text container
            const text = document.createElement('div');
            text.classList.add('item-text');
            const textP = document.createElement('p');
            textP.textContent = productArray[i].title; // Correct property for the name
            const textP2 = document.createElement('p');
            textP2.textContent = `$${productArray[i].price}`;
            text.appendChild(textP);
            text.appendChild(textP2);

            // Append img and text to card
            card.appendChild(img);
            card.appendChild(text);

            // Append card to the product container
            product.appendChild(card);

            const cardItem = document.getElementsByClassName('card-item');
            cardItem.appendChild(product);

        }
    } catch (error) {
        console.error('Error fetching data:', error);
    }
});

/*         <div class="card" id="product">
                <div class="item-img">
                    <img src="assets/t-shirt.png" alt="">
                </div>
                <div class="item-text">
                    <p>T-shirt with Tape Details</p>
                    <p>$120</p>
                </div>
            </div> */